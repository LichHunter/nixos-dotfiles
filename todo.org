#+title: Todo

* CANCELLED Add shortcut for comment/uncomment code for emacs
CLOSED: [2024-03-05 Tue 10:03]
* DONE Add doas
CLOSED: [2024-01-02 Tue 21:54]
* DONE Fix color scheme of calendar
* DONE Add lock screen
CLOSED: [2024-01-02 Tue 21:54]
* DONE Fix wifi connection, as you need always enter passwords
CLOSED: [2024-01-02 Tue 22:18]
Seems like this is not easy to do without gnome-keyring or kde stuff
UPD fixed with usage of IWD
* DONE Fix image of battery in waybar when laptop is charging
CLOSED: [2024-01-02 Tue 21:58]
* DONE Fix icon on 3-d screen in waybar
CLOSED: [2024-01-02 Tue 21:54]
* DONE Fix bluetooth | some what done but I need to connect though terminall - [[file:wiki.org][wiki]]
CLOSED: [2024-01-02 Tue 21:55]
* DONE Add docker
CLOSED: [2024-01-03 Wed 18:31]
* DONE Upgrade to 24.05
CLOSED: [2024-01-18 Thu 20:04]
* DONE Fix vm build of nixos
CLOSED: [2024-01-18 Thu 20:59]
+This is somewhat fixed, at least I can login to it but it is immidiatly crashes+
Update: this issue seems to be related to this [[issue]] which in turn is some issue related to hypr and DE (kde)
* DONE Add firefox addons +from nur+
CLOSED: [2024-01-18 Thu 23:26]
Could not setup to use nur, so getting extensions some other way like specified [[https://discourse.nixos.org/t/declare-firefox-extensions-and-settings/36265][here]]
* DONE Fix nixos-test
CLOSED: [2024-01-20 Sat 21:37]
I'm getting this error when rebuild config
#+begin_example
activating the configuration...
setting up /etc...
reloading user units for omen...
setting up tmpfiles
the following new units were started: libvirtd.service
warning: the following units failed: home-manager-omen.service

Ã— home-manager-omen.service - Home Manager environment for omen
     Loaded: loaded (/etc/systemd/system/home-manager-omen.service; enabled; preset: enabled)
     Active: failed (Result: exit-code) since Thu 2024-01-18 23:23:49 CET; 61ms ago
    Process: 26628 ExecStart=/nix/store/nr3bd4qcyrx1n00m8bpsca9swfxfvlvx-hm-setup-env /nix/store/xnbql26lj8rd9pn1a96rzb8nfq5ps9c2-home-manager-generation (code=exited, status=255/EXCEPTION)
   Main PID: 26628 (code=exited, status=255/EXCEPTION)
         IP: 0B in, 0B out
        CPU: 392ms

Jan 18 23:23:49 nixos hm-activate-omen[26628]: Creating profile generation 174
Jan 18 23:23:49 nixos hm-activate-omen[26628]: Creating home file links in /home/omen
Jan 18 23:23:49 nixos hm-activate-omen[26628]: Activating onFilesChange
Jan 18 23:23:49 nixos hm-activate-omen[26628]: Activating reloadSystemd
Jan 18 23:23:49 nixos hm-activate-omen[26628]: Activating stylixLookAndFeel
Jan 18 23:23:49 nixos hm-activate-omen[27199]: An error occurred while attempting to set the Plasma wallpaper:
Jan 18 23:23:49 nixos hm-activate-omen[27199]: The name org.kde.plasmashell was not provided by any .service files
Jan 18 23:23:49 nixos systemd[1]: home-manager-omen.service: Main process exited, code=exited, status=255/EXCEPTION
Jan 18 23:23:49 nixos systemd[1]: home-manager-omen.service: Failed with result 'exit-code'.
Jan 18 23:23:49 nixos systemd[1]: Failed to start Home Manager environment for omen.
warning: error(s) occurred while switching to the new configuration
#+end_example

Need to be fixed

Fixed by removing plasma completly :)
* DONE Fix emacs
CLOSED: [2024-01-20 Sat 22:03]
Currently after upgrade by default we are running emacs 29.1 but our emacs from terminal is version 28.2
So we can't use shortcut to open it

For now I'm just going to add emacs daemon to the hyprland config, to start it on login
* DONE Add user.json for firefox [[https://github.com/arkenfox/user.js][link]]
CLOSED: [2024-01-29 Mon 14:16]
* DONE Add bitwarden extension for firefox
CLOSED: [2024-01-29 Mon 14:16]
* DONE Add default search engine for firefox
CLOSED: [2024-01-29 Mon 14:26]
Seems like duckduckgo now is not as good, so I think we can setup some searchx engine
* DONE Add theme for sddm
CLOSED: [2024-01-29 Mon 16:19]
* DONE Change hyprland config as nix config
CLOSED: [2024-01-29 Mon 21:14]
* DONE Turn off password save for firefox
CLOSED: [2024-03-05 Tue 09:32]
Probably fixed
* DONE Make firefox default browser
CLOSED: [2024-03-05 Tue 09:41]
* DONE Fix emacs versions
CLOSED: [2024-03-06 Wed 10:10]
Current state after login
#+begin_example
   2897 ?        Ss     0:00 /nix/store/bzy21v2cd5sq1djzwa9b19q08wpp9mm0-emacs-29.1/bin/emacs --fg-daemon
   3711 tty1     Sl+    0:15 /nix/store/br4n8s60jgvym7mnvrirksrs5r3i56pb-emacs-28.2/bin/emacs --fg-daemon
#+end_example
* TODO Try this rice [[https://www.reddit.com/r/unixporn/comments/196cdc1/hyprland_nixos_catppuccin_first_time_ricing_and/][link]]
* TODO Hypr crashes on login if kde is removed <<issue>>
Possible [[https://www.reddit.com/r/hyprland/comments/16ls2pn/nixos_hyprland_crashing_on_startup/][solution]]
Possible this error somewhat related to xdg-portals and gtk...

Seems to be fixes by removing from xserver hyprland config
#+begin_src nix
xdg.portal = {
    enable = true;
    extraPortals = [ pkgs.xdg-desktop-portal-gtk ];
};
#+end_src

Sooo, seems like I havent fixed it at the end, as after nixos-switch I'm crashing again but other times are ok

Or not, just rebuilt and everything is ok...
No Idea what is going on
Will leave it as it is
* TODO Login crashes some times after first time password is entered
* TODO Add autolock after some time
* TODO Add hyprland tabbed layout
Seems not going to be fixed for now
In wiki we have some kind of other tabbed layout but it sucks comparing to i3/sway
* TODO Fix suggesstion window in IDEA for hypr
Possible solution
https://github.com/hyprwm/Hyprland/issues/3450#issuecomment-1816761575
* TODO Fix icon of sound in waybar
Specifically icon when sound is turned off and when you connect headphones
* TODO Fix hyprland crashing on start
* TODO Fix multi monitors
Currently I added wlr-randr and [[https://github.com/cyclopsian/wdisplays][wdisplays]] but this needs to be done either with autorandr but for wayland or with hyprland (in this case) itself
* TODO Try out plasma 6
